{# ////////////////////////////////////////////////////////////////////////// #}
{# Generic Layout                                                             #}
{# ////////////////////////////////////////////////////////////////////////// #}

{% extends '_layouts/main' %}

{# Content Block ============================================================ #}

{% block content %}

	{# Resolve categories and tags to the entry variable to avoid errors. #}

	{% set entry = entry ?? category ?? tag ?? null %}

	{# Cache the template using readable key name #}

	{% cache globally using key 'content-' ~ (entry.slug ?? (segments is empty ? 'home' : segments|last)) %}

		<main>

			{# 'cleanup' tags remove empty elements and duplicate line breaks #}

			{% cleanup %}

				{% if entry ?? false %}

					{{ not entry.isFieldEmpty('body') ? entry.body }}

				{% endif %}

				{% include "_components/content-blocks" ignore missing %}

			{% endcleanup %}

			{# Extra Content ---------------------------------------------------------
			Render extra content within the main tag, whilst keeping all the above
			standard content. Allowing you get reuse this template for frequently. #}

			{% set extra = extra ?? block('extra') ?? false %}
			{{ extra is not empty ? extra|raw }}

		</main>

	{% endcache %}

{% endblock %}

{# Aside Block ============================================================== #}

{% block aside %}{% endblock %}
